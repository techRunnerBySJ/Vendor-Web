<section class="dialog-wrapper">
    <header class="d-flex justify-content-between align-items-center mb-3">
        <h3>Discount Details</h3>
        <mat-icon class="cursor-enabled" (click)="onDismiss()">close</mat-icon>
    </header>

    <div class="d-flex justify-content-between align-items-center">
        <p class="offer-code mb-2"><strong>{{couponDetails.couponName}}</strong></p>
        <span class="offer-color--grey" *ngIf="currentDiscountTab === discountTabs.NewAvailable">
            <strong>{{couponDetails.couponStartTime}} - {{couponDetails.couponEndTime}}</strong>
        </span>
    </div>
    <div class="d-flex flex-column">
        <span class="fw-400">{{couponDetails.couponHeader}}</span>
        <span><strong class="offer-color--grey">{{couponDetails.couponDesc}} </strong></span>
        <span class="offer-color--grey">Outlet Share : {{couponDetails.discountSharePercentage}}%</span>
    </div>
    <ng-container>
        <h6 class="mt-3"><strong>Terms and Conditions:</strong></h6>
        <li class="offer-color--grey" *ngFor="let tnc of couponDetails.termsAndConditions">{{tnc}}</li>
    </ng-container>
    <ng-container *ngIf="currentDiscountTab !== discountTabs.NewAvailable">
        <h6 class="mt-3"><strong>Durations for Opted In:</strong></h6>
        <div class="d-flex justify-content-between align-items-center mt-2" *ngFor="let mapping of couponDetails.mappingDetails">
            <li>{{mapping.startDate}} - {{mapping.endDate}}</li>
            <span class="text-capitalize">(By: {{mapping.mappedBy}})</span>
            <a class="offer-action" (click)="onConfirm(mapping.id)" 
                *ngIf="[discountTabs.Ongoing, discountTabs.Upcoming].includes(currentDiscountTab)"><strong> OPT OUT</strong>
            </a>
        </div>
    </ng-container>
</section>